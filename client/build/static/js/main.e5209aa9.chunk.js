(this["webpackJsonpfinal-app"]=this["webpackJsonpfinal-app"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},12:function(e,t,n){"use strict";n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return O})),n.d(t,"a",(function(){return x})),n.d(t,"e",(function(){return v})),n.d(t,"g",(function(){return g}));var r=n(5),a=n.n(r),c=n(17),s=n(14),i=n(2),o=n(8),l=n(23),u={profile:null},d=function(e){return{type:"CA/PROFILE/SET_PROFILE",profile:e}},b=function(e,t){return{type:"CA/CONTACTS/TOGGLE_FAV_USER",id:e,event:t}},j=function(e){return{type:"CA/CONTACTS/DELETE_CONTACT",id:e}},f=function(e){return{type:"CA/CONTACTS/ADD_CONTACT",contact:e}},m=function(e){return{type:"CA/CONTACTS/EDIT_USER_DATA",data:e}},p=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c,s,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.a)("/api/getUser","POST",e);case 2:if(200!==(r=t.sent).status){t.next=10;break}return t.next=6,r.json();case 6:return c=t.sent,s=c.data,n(d(s)),t.abrupt("return",!0);case 10:return t.prev=10,t.next=13,r.json();case 13:if(!(i=t.sent).hasOwnProperty("message")){t.next=17;break}return t.next=17,n(Object(o.c)(i));case 17:t.next=23;break;case 19:return t.prev=19,t.t0=t.catch(10),t.next=23,n(Object(o.c)({message:"Some error: user wasn`t be got."}));case 23:case"end":return t.stop()}}),t,null,[[10,19]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r,c){var s,i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r(b(e,t)),!t){n.next=7;break}return n.next=4,Object(l.a)("/api/user/favorite/".concat(e),"PUT");case 4:s=n.sent,n.next=10;break;case 7:return n.next=9,Object(l.a)("/api/user/favorite/".concat(e),"DELETE");case 9:s=n.sent;case 10:if(200===s.status){n.next=25;break}return r(b(e,!t)),n.prev=12,n.next=15,s.json();case 15:if(!(i=n.sent).hasOwnProperty("message")){n.next=19;break}return n.next=19,r(Object(o.c)(i));case 19:n.next=25;break;case 21:return n.prev=21,n.t0=n.catch(12),n.next=25,r(Object(o.c)({message:"Some error: can`t set contact`s favorite status."}));case 25:case"end":return n.stop()}}),n,null,[[12,21]])})));return function(e,t){return n.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,s,i,u,d;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=null===(c=r().profile.profile)||void 0===c||null===(s=c.contacts)||void 0===s?void 0:s.find((function(t){return t.id===e})),n(j(e)),t.next=4,Object(l.a)("/api/user/contact/".concat(e),"DELETE");case 4:if(200===(u=t.sent).status){t.next=20;break}return i&&n(f(i)),t.prev=7,t.next=10,u.json();case 10:if(!(d=t.sent).hasOwnProperty("message")){t.next=14;break}return t.next=14,n(Object(o.c)(d));case 14:t.next=20;break;case 16:return t.prev=16,t.t0=t.catch(7),t.next=20,n(Object(o.c)({message:"Some error: Something wrong, user can`t be deleted."}));case 20:case"end":return t.stop()}}),t,null,[[7,16]])})));return function(e,n){return t.apply(this,arguments)}}()},x=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(o.d.setAuthorized(!1)),t(d(null)),localStorage.removeItem("CA/user");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,s,i,u,d,b;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=null===(c=r().profile.profile)||void 0===c||null===(s=c.contacts)||void 0===s?void 0:s.find((function(t){return t.id===e.id})),u=Object(l.b)(e),"object"===typeof e.avatar&&(e.avatar="/"+e.avatar.name),n(m(e)),t.next=6,fetch("/api/user/contact/edit",{method:"POST",body:u});case 6:if(200!==(d=t.sent).status){t.next=9;break}return t.abrupt("return",!0);case 9:return n(m(i)),t.prev=10,t.next=13,d.json();case 13:if(!(b=t.sent).hasOwnProperty("message")){t.next=17;break}return t.next=17,n(Object(o.c)(b));case 17:t.next=23;break;case 19:return t.prev=19,t.t0=t.catch(10),t.next=23,n(Object(o.c)({message:"Some error: Something wrong, user`s info can`t be changed."}));case 23:case"end":return t.stop()}}),t,null,[[10,19]])})));return function(e,n){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,s,i,u,d,b;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=null===(c=r().profile.profile)||void 0===c?void 0:c.id,i=Object(l.b)(e),"object"===typeof e.avatar&&(e.avatar="/"+e.avatar.name),t.next=5,fetch("/api/user/".concat(s,"/contact/new"),{method:"POST",body:i});case 5:if(200!==(u=t.sent).status){t.next=13;break}return t.next=9,u.json();case 9:return d=t.sent,e.id=d.id,n(f(e)),t.abrupt("return",!0);case 13:return t.prev=13,t.next=16,u.json();case 16:if(!(b=t.sent).hasOwnProperty("message")){t.next=20;break}return t.next=20,n(Object(o.c)(b));case 20:t.next=26;break;case 22:return t.prev=22,t.t0=t.catch(13),t.next=26,n(Object(o.c)({message:"Some error: Something wrong, user`s info can`t be added."}));case 26:case"end":return t.stop()}}),t,null,[[13,22]])})));return function(e,n){return t.apply(this,arguments)}}()};t.c=function(){var e,t,n,r,a,c,o,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,d=arguments.length>1?arguments[1]:void 0;switch(d.type){case"CA/PROFILE/SET_PROFILE":return Object(i.a)(Object(i.a)({},l),{},{profile:d.profile});case"CA/CONTACTS/TOGGLE_FAV_USER":var b=null===(e=l.profile)||void 0===e||null===(t=e.contacts)||void 0===t?void 0:t.map((function(e){return e.id===d.id?Object(i.a)(Object(i.a)({},e),{},{isFavorite:d.event}):e}));return Object(i.a)(Object(i.a)({},l),{},{profile:Object(i.a)(Object(i.a)({},l.profile),{},{contacts:b})});case"CA/CONTACTS/DELETE_CONTACT":return Object(i.a)(Object(i.a)({},l),{},{profile:Object(i.a)(Object(i.a)({},l.profile),{},{contacts:null===(n=l.profile)||void 0===n||null===(r=n.contacts)||void 0===r?void 0:r.filter((function(e){return e.id!==d.id}))})});case"CA/CONTACTS/EDIT_USER_DATA":var j=null===(a=l.profile)||void 0===a||null===(c=a.contacts)||void 0===c?void 0:c.map((function(e){return e.id===d.data.id?d.data:e}));return Object(i.a)(Object(i.a)({},l),{},{profile:Object(i.a)(Object(i.a)({},l.profile),{},{contacts:j})});case"CA/CONTACTS/ADD_CONTACT":var f;return f=(null===(o=l.profile)||void 0===o?void 0:o.contacts)?[].concat(Object(s.a)(l.profile.contacts),[d.contact]):[d.contact],Object(i.a)(Object(i.a)({},l),{},{profile:Object(i.a)(Object(i.a)({},l.profile),{},{contacts:f})});default:return l}}},206:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(48),s=n.n(c),i=(n(100),n(101),n(6)),o=n(4),l=n.p+"static/media/logo.87cf462c.png",u=n(9),d=n(12),b=n(1),j={LogOutTC:d.a},f=Object(u.b)((function(e){return{isAuth:e.app.isAuth}}),j)((function(e){var t=e.isAuth,n=e.LogOutTC,a=Object(r.useCallback)((function(){n()}),[n]);return Object(b.jsxs)("nav",{className:"navbar navbar-dark bg-primary sticky-top",children:[Object(b.jsxs)(o.b,{to:"/",className:"navbar-brand mr-auto",children:[Object(b.jsx)("img",{src:l,width:"35",height:"35",className:"d-inline-block align-top mr-3",alt:"",loading:"lazy"}),"Contacts APP"]}),t?Object(b.jsxs)("div",{children:[Object(b.jsx)(o.b,{to:"/contacts",className:"btn btn-success my-2 my-sm-0 mr-3",children:"Contacts"}),Object(b.jsx)(o.b,{to:"/contacts",onClick:a,className:"btn btn-danger my-2 my-sm-0 mr-3",children:"Log Out"})]}):Object(b.jsxs)("div",{children:[Object(b.jsx)(o.b,{to:"/login",className:"btn btn-success my-2 my-sm-0 mr-3",children:"Log In"}),Object(b.jsx)(o.b,{to:"/signUp",className:"btn btn-info my-2 my-sm-0",children:"Sign Up"})]})]})})),m=n(10),p=n(89),h=n(8),O=Object(m.c)({app:h.e,profile:d.c}),x=Object(m.e)(O,Object(m.a)(p.a)),v=function(e){var t=e.size,n=e.margin;return Object(b.jsx)("svg",{width:t,height:t,fill:"currentColor",className:"bi bi-star-fill "+n,viewBox:"0 0 16 16",children:Object(b.jsx)("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})})},g=function(){return Object(b.jsx)("svg",{width:"25",height:"25",fill:"currentColor",className:"bi bi-person-lines-fill mr-4",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{d:"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z"})})},C=function(){return Object(b.jsxs)("li",{className:"media list-group-item list-group-item-warning",children:[Object(b.jsx)(v,{size:24,margin:"mr-3"}),"Favorite contacts"]})},N=function(){return Object(b.jsxs)("li",{className:"list-group-item list-group-item-primary",children:[Object(b.jsx)(g,{}),"All contacts"]})},w=n.p+"static/media/anonim.5827c6ca.png",y=function(){return Object(b.jsxs)("svg",{width:"16",height:"16",fill:"currentColor",className:"bi bi-pencil-square  mr-2",viewBox:"0 0 16 16",children:[Object(b.jsx)("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),Object(b.jsx)("path",{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})]})},T=function(){return Object(b.jsx)("svg",{width:"16",height:"16",fill:"currentColor",className:"bi bi-telephone-fill mr-2",viewBox:"0 0 16 16",children:Object(b.jsx)("path",{fillRule:"evenodd",d:"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"})})},A=function(e){var t=e.contact,n=e.toggleFavoriteUser,a=Object(r.useCallback)((function(){n(t.id)}),[n,t.id]);return Object(b.jsxs)("li",{className:"media list-group-item list-group-item-action d-flex align-items-center",children:[Object(b.jsx)(o.b,{to:"/show/"+t.id,className:"d-flex mr-auto",children:Object(b.jsx)("div",{className:"overflow-hidden mr-4 size_show",children:Object(b.jsx)("img",{src:t.avatar||w,className:"rounded float-left mr-3",alt:""})})}),Object(b.jsxs)("div",{className:"media-body mr-auto",children:[Object(b.jsx)(o.b,{to:"/show/"+t.id,className:"d-flex mr-auto",children:Object(b.jsx)("h5",{className:"mt-0 mb-1",children:t.name})}),t.phones.map((function(e){return Object(b.jsx)("a",{className:"d-block",href:"tel:"+e.number,children:e.number},e.id)}))]}),Object(b.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:[Object(b.jsxs)("a",{href:"tel:"+t.phones[0].number,className:"btn btn-success",children:[Object(b.jsx)(T,{})," Call"]}),Object(b.jsx)("button",{className:"btn btn-warning",onClick:a,children:Object(b.jsx)(v,{size:18})}),Object(b.jsxs)(o.b,{to:"/edit/"+t.id,type:"button",className:"btn btn-danger",children:[Object(b.jsx)(y,{}),"Edit"]})]})]})},k=function(e){var t=e.favorites,n=e.toggleFavoriteUser,a=Object(r.useCallback)((function(e){n(e,!1)}),[n]);return Object(b.jsxs)(b.Fragment,{children:[t.length>0&&Object(b.jsx)(C,{}),t.map((function(e){return Object(b.jsx)(A,{contact:e,toggleFavoriteUser:a},e.id)}))]})},S=function(e){var t=e.contacts,n=e.toggleFavoriteUser,a=Object(r.useCallback)((function(e){n(e,!0)}),[n]);return Object(b.jsxs)(b.Fragment,{children:[t.length>0&&Object(b.jsx)(N,{}),t.map((function(e){return Object(b.jsx)(A,{contact:e,toggleFavoriteUser:a},e.id)}))]})},E=n(41),F=n(2),L=n(95),z=function(e){return{isAuth:e.app.isAuth}},P=function(e){return Object(u.b)(z)((function(t){t.isAuth;var n=Object(L.a)(t,["isAuth"]);return t.isAuth?Object(b.jsx)(e,Object(F.a)({},n)):Object(b.jsx)(i.a,{to:"/login"})}))},_={changeFavoriteUserTC:d.b},I=Object(m.d)(Object(u.b)((function(e){return{profile:e.profile.profile,error:e.app.error}}),_),P)((function(e){var t,n,a=e.profile,c=e.error,s=e.changeFavoriteUserTC,i=Object(r.useCallback)((function(e,t){s(e,t)}),[s]),l=null===(t=a.contacts)||void 0===t?void 0:t.filter((function(e){return e.isFavorite})),u=null===(n=a.contacts)||void 0===n?void 0:n.filter((function(e){return!e.isFavorite}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"mt-3 d-flex align-items-center justify-content-between",children:[Object(b.jsxs)("h2",{children:[a.name,"'s contacts:"]}),Object(b.jsx)(o.b,{to:"/newContact",className:"btn btn-success",children:"Add contact"})]}),c&&Object(b.jsx)(E.a,{message:c.message}),Object(b.jsx)("div",{className:"my-3",children:Object(b.jsxs)("ul",{className:"list-unstyled list-group col-12 pr-0",children:[l&&Object(b.jsx)(k,{favorites:l,toggleFavoriteUser:i}),u&&Object(b.jsx)(S,{contacts:u,toggleFavoriteUser:i})]})})]})})),U=function(){return Object(b.jsxs)("div",{className:"text-primary display-1 text-center mt-5 pt-5",children:[Object(b.jsx)("div",{className:"font-weight-bold mt-5",children:"404"}),"NotFound"]})},D=n(30),R=n(21),B=n(27),M=n(37),q=n(33),H=n.n(q),J=n.p+"static/media/life.16c3f13d.png",G=n.p+"static/media/kiev.b8ad4e57.png",V=n.p+"static/media/vodafone.fdca0659.jpg";var Z=function(e){var t=e.field,n=e.form,a=e.push,c=e.remove,s=e.length,i=e.phone,o=e.i,l=n.errors,u=n.values,d=n.touched,j=t.name,f=Object(R.e)(l,j),m=function(e){var t=w;return e.match(/(063|073|093)/)?t=J:e.match(/(067|068|096|097|098)/)?t=G:e.match(/(050|066|095|099)/)&&(t=V),t}(i),p=Object(r.useCallback)((function(){return c()}),[c]),h=Object(r.useCallback)((function(){return a()}),[a]),O=u.phones[o].number&&!f,x=(u.phones[o].number||d.phones)&&f;return Object(b.jsx)("div",{className:"form-row",children:Object(b.jsx)("div",{className:"col-md-12 mb-3",children:Object(b.jsxs)("div",{className:"input-group",children:[Object(b.jsx)("img",{src:m,width:"39",height:"39",className:"rounded float-left mr-3",alt:""}),Object(b.jsx)("input",Object(F.a)(Object(F.a)({},t),{},{placeholder:"+380930000000",className:H()("form-control",{"is-valid":O},{"is-invalid":x})})),Object(b.jsxs)("div",{className:"input-group-append",children:[s>1&&Object(b.jsx)("button",{className:"btn btn-danger",onClick:p,type:"button",children:"Delete"}),Object(b.jsx)("button",{className:"btn btn-success",onClick:h,type:"button",children:"Add phone"})]}),Object(b.jsx)("div",{className:H()({"valid-feedback":O},{"invalid-feedback":x}),children:x||u.phones[o].number&&"Looks good!"})]})})})},K=function(e){var t=e.contact,n=e.deleteContact,a=e.editContact,c=e.newContactTC,s=e.error,i=Object(r.useCallback)((function(){n&&n(t.id)}),[n,t.id]),l=B.c({name:B.d().matches(/^[a-z\u0430-\u0449\u0456\u0454\u0457\u0491\u044e\u044c\u044f\u044b\u0451\u044a\s]+$/i,"Field should contain only letters").min(3).max(100,"Too Long!").required("Name field is required"),email:B.d().max(100,"Too Long!").email("Incorrect email"),phones:B.a().of(B.c().shape({id:B.b(),number:B.d().trim().matches(/^(\+38)?0(93|63|67|68|96|97|98|50|66|95|99)\d{7}$/,"Incorrect phone number. Operator does not exist. Use life, kievstar or vodafone").required("Field is required")}))}),u=Object(r.useCallback)((function(e){a?a(e):c&&c(e)}),[a,c]),d=Object(r.useState)(null),j=Object(D.a)(d,2),f=j[0],m=j[1];return Object(b.jsxs)("div",{className:"my-4",children:[s&&Object(b.jsx)(E.a,{message:s.message}),Object(b.jsx)(R.d,{initialValues:t,validationSchema:l,onSubmit:u,className:"my-4",children:function(e){if("string"!==typeof e.values.avatar){var r=new FileReader;r.onload=function(e){e.target&&m(e.target.result)},r.readAsDataURL(e.values.avatar)}return Object(b.jsxs)(R.c,{children:[Object(b.jsxs)("div",{className:"form-group d-flex",children:[Object(b.jsx)("div",{className:"overflow-hidden mr-4 size_edit",children:Object(b.jsx)("img",{src:f||t.avatar||w,className:"rounded float-left mr-3",alt:""})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{htmlFor:"image",children:"Choose photo"}),Object(b.jsx)("input",{type:"file",name:"avatar",id:"image",accept:".jpg, .jpeg",className:"form-control-file",onChange:function(t){e.setFieldValue("avatar",t.target.files&&t.target.files[0])}})]})]}),Object(b.jsx)(M.a,{name:"name",placeholder:"Name"}),Object(b.jsx)("div",{className:"mb-4",children:Object(b.jsx)("p",{className:"mr-2 d-inline",children:"Phones"})}),Object(b.jsx)(R.b,{name:"phones",children:function(e){var t=e.push,n=e.remove,r=e.form.values.phones,a=r.length,c=r[a-1].id;return r.map((function(e,r){var s="phones[".concat(r,"].number");return Object(b.jsx)(R.a,{component:Z,name:s,length:a,lastId:c,phone:e.number,i:r,push:function(){return t({id:c+1,number:""})},remove:function(){return n(r)}},e.id)}))}}),Object(b.jsx)(M.a,{name:"email",type:"email",placeholder:"name@example.com"}),Object(b.jsx)(M.a,{name:"address",placeholder:"Address"}),Object(b.jsx)(M.a,{name:"comment",placeholder:"Comment"}),Object(b.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Basic example",children:[Object(b.jsx)(o.b,{to:"/contacts",className:"btn btn-info",children:"Cancel"}),Object(b.jsx)("button",{type:"submit",className:"btn btn-success",children:"Save"}),n&&Object(b.jsx)(o.b,{to:"/contacts",className:"btn btn-danger",onClick:i,children:"Delete"})]})]})}})]})},X={newContactTC:d.g},Y=Object(m.d)(Object(u.b)((function(e){return{error:e.app.error}}),X),P)((function(e){var t=e.error,n=e.newContactTC,a=Object(i.g)(),c=Object(r.useCallback)((function(e){n(e).then((function(e){e&&a.push("/contacts")}))}),[n,a]);return Object(b.jsx)(K,{contact:{id:1,name:"",avatar:"",email:"",address:"",comment:"",isFavorite:!1,phones:[{id:1,number:""}]},editContact:c,error:t})})),$=function(e){var t=e.fieldName,n=e.value;return Object(b.jsxs)("p",{className:"card-title font-weight-bold",children:[t,":",Object(b.jsxs)("span",{className:"font-weight-normal",children:[" ",n||"Doesn`t set"]})]})},W=function(e){var t=e.user;return Object(b.jsxs)("div",{className:"card border-primary mb-3 mt-4",children:[Object(b.jsx)("div",{className:"card-header",children:Object(b.jsx)("p",{className:"h4",children:t.name})}),Object(b.jsxs)("div",{className:"card-body text-primary",children:[Object(b.jsxs)("div",{className:"form-group d-flex",children:[Object(b.jsx)("div",{className:"overflow-hidden size_show_page float-left mr-3",children:Object(b.jsx)("img",{src:t.avatar||w,alt:""})}),Object(b.jsxs)("div",{children:[Object(b.jsx)($,{fieldName:"Email",value:t.email}),Object(b.jsx)($,{fieldName:"Address",value:t.address}),Object(b.jsx)($,{fieldName:"Comment",value:t.comment}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:"card-title font-weight-bold",children:"Phones: "}),t.phones.map((function(e){return Object(b.jsx)("a",{href:"tel:"+e.number,className:"d-block",children:e.number},e.id)}))]})]})]}),Object(b.jsx)(o.b,{to:"/contacts",className:"btn btn-primary float-right px-5",children:"Back"})]})]})},Q={ShowErrorTC:h.c},ee=Object(m.d)(Object(u.b)((function(e){var t;return{contacts:null===(t=e.profile.profile)||void 0===t?void 0:t.contacts}}),Q),P)((function(e){var t=e.contacts,n=e.ShowErrorTC,r=Object(i.h)(),a=t.find((function(e){return e.id===+r.id}));return a?Object(b.jsx)(W,{user:a}):(n({message:"User wasn`t found"}),Object(b.jsx)(i.a,{to:"/contacts"}))})),te=n(65),ne=n.n(te),re=function(){return Object(b.jsx)("div",{className:"d-flex justify-content-center align-items-center "+ne.a.min_height,children:Object(b.jsx)("div",{className:"spinner-border text-primary "+ne.a.size,role:"status",children:Object(b.jsx)("span",{className:"sr-only",children:"Loading..."})})})},ae={deleteContactTC:d.d,editContactDataTC:d.e,ShowErrorTC:h.c},ce=Object(m.d)(Object(u.b)((function(e){var t;return{contacts:null===(t=e.profile.profile)||void 0===t?void 0:t.contacts,error:e.app.error}}),ae),P)((function(e){var t=e.contacts,n=e.deleteContactTC,a=e.editContactDataTC,c=e.ShowErrorTC,s=e.error,o=Object(r.useCallback)((function(e){n(e)}),[n]),l=Object(i.g)(),u=Object(r.useCallback)((function(e){a(e).then((function(e){e&&l.push("/contacts")}))}),[a,l]),d=Object(i.h)(),j=null===t||void 0===t?void 0:t.find((function(e){return e.id===+d.id}));return j?Object(b.jsx)(K,{contact:j,deleteContact:o,editContact:u,error:s}):(c({message:"User wasn`t found"}),Object(b.jsx)(i.a,{to:"/contacts"}))})),se=function(e){return function(t){return Object(b.jsx)(r.Suspense,{fallback:Object(b.jsx)(re,{}),children:Object(b.jsx)(e,Object(F.a)({},t))})}},ie=function(){return Object(b.jsxs)("div",{className:"card-footer d-flex justify-content-around",children:[Object(b.jsx)("small",{className:"text-muted",children:"GeekHub 2020 - 2021"}),Object(b.jsx)("small",{className:"text-muted",children:"Designed by Yuliia Kavytska"})]})},oe=se(a.a.lazy((function(){return n.e(3).then(n.bind(null,208))}))),le=se(a.a.lazy((function(){return n.e(4).then(n.bind(null,209))}))),ue={initializeAppTC:h.f},de=Object(u.b)((function(e){return{initialized:e.app.initialized}}),ue)((function(e){var t=e.initialized,n=e.initializeAppTC;function a(e){alert("Unhandled error! Reason: ".concat(e.reason))}return Object(r.useEffect)((function(){return window.addEventListener("unhandledrejection",a),function(){window.removeEventListener("unhandledrejection",a)}}),[]),Object(r.useEffect)((function(){n()}),[n]),Object(b.jsxs)("div",{className:"d-flex flex-column app_height",children:[Object(b.jsx)(f,{}),Object(b.jsx)("main",{className:"container mb-3 flex-grow-1",children:t?Object(b.jsxs)(i.d,{children:[Object(b.jsx)(i.b,{path:"/",exact:!0,component:I}),Object(b.jsx)(i.b,{path:"/login",exact:!0,component:oe}),Object(b.jsx)(i.b,{path:"/signup",exact:!0,component:le}),Object(b.jsx)(i.b,{path:"/contacts",exact:!0,component:I}),Object(b.jsx)(i.b,{path:"/newContact",exact:!0,component:Y}),Object(b.jsx)(i.b,{path:"/show/:id?",exact:!0,component:ee}),Object(b.jsx)(i.b,{path:"/edit/:id?",exact:!0,component:ce}),Object(b.jsx)(i.b,{path:"/*",render:function(){return Object(b.jsx)(U,{})}})]}):Object(b.jsx)(re,{})}),Object(b.jsx)(ie,{})]})})),be=function(){return Object(b.jsx)(u.a,{store:x,children:Object(b.jsx)(o.a,{children:Object(b.jsx)(de,{})})})},je=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,210)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(be,{})}),document.getElementById("root")),je()},23:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){var t=new FormData;for(var n in e)e.hasOwnProperty(n)&&"string"!==typeof e[n]&&"avatar"!==n?t.append(n,JSON.stringify(e[n])):t.append(n,e[n]);return t},a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={method:t,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}};return Object.keys(n).length>0&&(r.body=JSON.stringify(n)),fetch(e,r)}},37:function(e,t,n){"use strict";var r=n(2),a=(n(0),n(21)),c=n(33),s=n.n(c),i=n(1);t.a=function(e){var t=e.name,n=e.type,c=void 0===n?"text":n,o=e.placeholder,l=t.charAt(0).toUpperCase()+t.slice(1);return Object(i.jsx)("div",{className:"form-row",children:Object(i.jsxs)("div",{className:"col-md-12 mb-3",children:[Object(i.jsx)("label",{htmlFor:t,children:l}),Object(i.jsx)(a.a,{name:t,children:function(e){var n=e.form,a=e.field,l=e.meta,u=(n.values[t]||n.touched[t])&&l.error,d=n.values[t]&&!l.error;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("input",Object(r.a)(Object(r.a)({},a),{},{type:c,id:t,placeholder:o,className:s()("form-control",{"is-valid":d},{"is-invalid":u})})),Object(i.jsx)("div",{className:s()({"valid-feedback":d},{"invalid-feedback":u}),children:u||n.values[t]&&"Looks good!"})]})}})]})})}},41:function(e,t,n){"use strict";n(0);var r=n(1);t.a=function(e){var t=e.message;return Object(r.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:t})}},65:function(e,t,n){e.exports={min_height:"Preloader_min_height__2nKwb",size:"Preloader_size__2aKvs"}},8:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return f}));var r=n(5),a=n.n(r),c=n(17),s=n(2),i=n(12),o=n(23),l={initialized:!1,error:null,isAuth:!1},u={setInitialized:function(){return{type:"CA/APP/SET_INITIALIZED"}},setError:function(e){return{type:"CA/APP/SET_ERROR",err:e}},setAuthorized:function(e){return{type:"CA/PROFILE/SET_AUTHORIZED",event:e}}},d=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("CA/user");case 2:if(!(r=e.sent)){e.next=21;break}if(e.prev=4,!(c=JSON.parse(r)).hasOwnProperty("email")||!c.hasOwnProperty("password")){e.next=13;break}return e.next=9,t(Object(i.f)(c));case 9:e.sent&&t(u.setAuthorized(!0)),e.next=15;break;case 13:return e.next=15,t(f({message:"Your data is incorrect. Log In with correct login and password"}));case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(4),e.next=21,t(f({message:"Some error: Something wrong, user`s info can`t be got."}));case 21:n().app.initialized||t(u.setInitialized());case 22:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t,n){return e.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.a)("/api/signUp","POST",e);case 2:if(200!==(r=t.sent).status){t.next=9;break}return localStorage.setItem("CA/user",JSON.stringify({email:e.email,password:e.password})),t.next=7,n(d());case 7:t.next=22;break;case 9:return t.prev=9,t.next=12,r.json();case 12:if(!(c=t.sent).hasOwnProperty("message")){t.next=16;break}return t.next=16,n(f(c));case 16:t.next=22;break;case 18:return t.prev=18,t.t0=t.catch(9),t.next=22,n(f({message:"Some error: Something wrong, user`s info can`t be registered."}));case 22:case"end":return t.stop()}}),t,null,[[9,18]])})));return function(e){return t.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.setItem("CA/user",JSON.stringify(e)),t.next=3,n(d());case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return function(){var n=Object(c.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r(u.setError(e)),setTimeout((function(){return r(u.setError(null))}),t);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()};t.e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CA/APP/SET_INITIALIZED":return Object(s.a)(Object(s.a)({},e),{},{initialized:!0});case"CA/APP/SET_ERROR":return Object(s.a)(Object(s.a)({},e),{},{error:t.err});case"CA/PROFILE/SET_AUTHORIZED":return Object(s.a)(Object(s.a)({},e),{},{isAuth:t.event});default:return e}}}},[[206,1,2]]]);
//# sourceMappingURL=main.e5209aa9.chunk.js.map