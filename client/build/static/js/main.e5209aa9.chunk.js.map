{"version":3,"sources":["store/profile-reducer.ts","assets/image/logo.png","components/Header/Header.tsx","store/index.ts","components/common/StarIcon.tsx","components/common/UsersIcon.tsx","components/Contacts/ContactsType.tsx","assets/image/anonim.png","components/common/EditingIcon.tsx","components/common/PhoneIcon.tsx","components/Contacts/Contact.tsx","components/Contacts/FavoriteContacts.tsx","components/Contacts/ContactsList.tsx","components/HOC/withAuthRedirect.tsx","components/Contacts/Contacts.tsx","components/404/NotFound.tsx","assets/image/life.png","assets/image/kiev.png","assets/image/vodafone.jpg","components/common/FormFields/PhoneField.tsx","components/common/defineOperator.tsx","components/Edit/Edit.tsx","components/NewContact/NewContact.tsx","components/Show/Show.tsx","components/Show/ShowContainer.tsx","components/common/Preloader/Preloader.tsx","components/Edit/EditContainer.tsx","components/HOC/withSuspence.tsx","components/Footer/Footer.tsx","App.tsx","reportWebVitals.ts","index.tsx","store/commonFunktion.ts","components/common/FormFields/FormField.tsx","components/common/AppError.tsx","components/common/Preloader/Preloader.module.css","store/app-reducer.ts"],"names":["initialState","profile","actions","type","id","event","contact","data","getUserTC","userData","dispatch","a","ajax","response","status","json","jsonResp","hasOwnProperty","ShowErrorTC","message","changeFavoriteUserTC","contactId","getState","deleteContactTC","deletedContact","contacts","find","LogOutTC","appActions","setAuthorized","localStorage","removeItem","editContactDataTC","currentContactState","formData","createFormData","avatar","name","fetch","method","body","newContactTC","userId","responseJson","profileReducer","state","action","changedContacts","map","isFavorite","filter","updatedContacts","withNewContact","dispatchType","connect","isAuth","app","logOut","useCallback","className","to","src","logo","width","height","alt","loading","onClick","reducersBranch","combineReducers","appReducer","store","createStore","applyMiddleware","thunkMiddleware","StarIcon","size","margin","fill","viewBox","d","UsersIcon","Favorite","AllContacts","EditingIcon","fillRule","PhoneIcon","Contact","toggleFavoriteUser","changeFavoriteStatus","anonim","phones","phone","href","number","role","aria-label","FavoriteContacts","favorites","deleteFromFavorite","length","ContactsList","mapState","withAuthRedirect","Component","props","rest","dispatchProps","compose","error","favoriteFilter","otherContacts","AppError","NotFound","PhoneField","field","form","push","remove","i","errors","values","touched","errorMessage","getIn","operator","match","life","kiev","vodafone","defineOperator","removeCurrentPhone","addPhone","isValid","isInvalid","placeholder","cn","Edit","deleteContact","editContact","deleteCurrentContact","validationSchema","yup","matches","min","max","required","email","of","shape","trim","onSubmit","useState","loadedImg","setImg","initialValues","formProps","reader","FileReader","onload","target","result","readAsDataURL","htmlFor","accept","onChange","setFieldValue","files","FormField","lastId","component","mapDispatch","history","useHistory","then","address","comment","Field","fieldName","value","Show","user","dispatchState","uri","useParams","Preloader","style","min_height","param","withSuspense","fallback","Footer","SuspendedLogin","React","lazy","SuspendedSignUp","initializeAppTC","AppConnected","initialized","catchError","e","alert","reason","useEffect","window","addEventListener","removeEventListener","path","exact","Contacts","NewContact","ShowContainer","EditContainer","render","AppContainer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById","FormData","key","append","JSON","stringify","url","settings","headers","Object","keys","nameField","charAt","toUpperCase","slice","meta","module","exports","setInitialized","setError","err","getItem","storage","parse","RegisterTC","setItem","password","LogInTC","time","setTimeout"],"mappings":"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","file":"static/js/main.e5209aa9.chunk.js","sourcesContent":["import {BaseThunkType, InferActionsTypes} from \".\"\r\nimport {IContact, IUser} from \"../types/types\"\r\nimport {actions as appActions, ActionsType as appActionsTypes, ShowErrorTC} from './app-reducer'\r\nimport {ajax, createFormData} from \"./commonFunktion\"\r\n\r\nlet initialState = {\r\n    profile: null as IUser | null\r\n}\r\n\r\nconst profileReducer = (state = initialState, action: ActionTypes): StateType => {\r\n    switch (action.type) {\r\n        case \"CA/PROFILE/SET_PROFILE\":\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        case \"CA/CONTACTS/TOGGLE_FAV_USER\":\r\n            const changedContacts = state.profile?.contacts?.map(contact => {\r\n                if (contact.id === action.id) {\r\n                    return {\r\n                        ...contact,\r\n                        isFavorite: action.event\r\n                    }\r\n                }\r\n                return contact\r\n            })\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    contacts: changedContacts\r\n                } as IUser\r\n            }\r\n        case \"CA/CONTACTS/DELETE_CONTACT\":\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    contacts: state.profile?.contacts?.filter(contact => contact.id !== action.id)\r\n                } as IUser\r\n            }\r\n        case \"CA/CONTACTS/EDIT_USER_DATA\":\r\n            const updatedContacts = state.profile?.contacts?.map(contact =>\r\n                contact.id === action.data.id ? action.data : contact)\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    contacts: updatedContacts\r\n                } as IUser\r\n            }\r\n        case \"CA/CONTACTS/ADD_CONTACT\":\r\n            let withNewContact\r\n            if (state.profile?.contacts) {\r\n                withNewContact = [...state.profile.contacts, action.contact]\r\n            } else {\r\n                withNewContact = [action.contact]\r\n            }\r\n            return {\r\n                ...state,\r\n                profile: {\r\n                    ...state.profile,\r\n                    contacts: withNewContact\r\n                } as IUser\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    setProfile: (profile: IUser | null) => ({type: 'CA/PROFILE/SET_PROFILE', profile} as const),\r\n    toggleFavoriteUser: (id: number, event: boolean) => ({type: 'CA/CONTACTS/TOGGLE_FAV_USER', id, event} as const),\r\n    deleteContact: (id: number) => ({type: 'CA/CONTACTS/DELETE_CONTACT', id} as const),\r\n    addContact: (contact: IContact) => ({type: 'CA/CONTACTS/ADD_CONTACT', contact} as const),\r\n    editUserData: (data: IContact) => ({type: 'CA/CONTACTS/EDIT_USER_DATA', data} as const)\r\n}\r\n\r\nexport const getUserTC = (userData: { email: string, password: string }): ThunkType<Promise<boolean | undefined>> => async (dispatch) => {\r\n    const response = await ajax('/api/getUser', 'POST', userData)\r\n\r\n    if (response.status === 200) {\r\n        const jsonResp = await response.json()\r\n        const profile = jsonResp.data\r\n        dispatch(actions.setProfile(profile))\r\n        return true\r\n    }\r\n    try {\r\n        const jsonResp = await response.json()\r\n        if (jsonResp.hasOwnProperty('message')) {\r\n            await dispatch(ShowErrorTC(jsonResp))\r\n        }\r\n    } catch (err) {\r\n        await dispatch(ShowErrorTC({message: 'Some error: user wasn`t be got.'}))\r\n    }\r\n}\r\n\r\nexport const changeFavoriteUserTC = (contactId: number, event: boolean): ThunkType => async (dispatch, getState) => {\r\n    dispatch(actions.toggleFavoriteUser(contactId, event))\r\n    let response\r\n    if (event) {\r\n        response = await ajax(`/api/user/favorite/${contactId}`, 'PUT')\r\n    } else {\r\n        response = await ajax(`/api/user/favorite/${contactId}`, 'DELETE')\r\n    }\r\n    if (response.status !== 200) {\r\n        dispatch(actions.toggleFavoriteUser(contactId, !event))\r\n\r\n        try {\r\n            const jsonResp = await response.json()\r\n            if (jsonResp.hasOwnProperty('message')) {\r\n                await dispatch(ShowErrorTC(jsonResp))\r\n            }\r\n        } catch (err) {\r\n            await dispatch(ShowErrorTC({message: 'Some error: can`t set contact`s favorite status.'}))\r\n        }\r\n    }\r\n}\r\n\r\nexport const deleteContactTC = (id: number): ThunkType => async (dispatch, getState) => {\r\n    const deletedContact = getState().profile.profile?.contacts?.find(contact => contact.id === id)\r\n    dispatch(actions.deleteContact(id))\r\n\r\n    const response = await ajax(`/api/user/contact/${id}`, 'DELETE')\r\n    if (response.status !== 200) {\r\n        if (deletedContact) {\r\n            dispatch(actions.addContact(deletedContact))\r\n        }\r\n\r\n        try {\r\n            const jsonResp = await response.json()\r\n            if (jsonResp.hasOwnProperty('message')) {\r\n                await dispatch(ShowErrorTC(jsonResp))\r\n            }\r\n        } catch (err) {\r\n            await dispatch(ShowErrorTC({message: 'Some error: Something wrong, user can`t be deleted.'}))\r\n        }\r\n    }\r\n}\r\n\r\nexport const LogOutTC = (): ThunkType => async (dispatch) => {\r\n    dispatch(appActions.setAuthorized(false))\r\n    dispatch(actions.setProfile(null))\r\n    localStorage.removeItem('CA/user')\r\n}\r\n\r\nexport const editContactDataTC = (data: IContact<string | File>): ThunkType<Promise<boolean | undefined>> => async (dispatch, getState) => {\r\n    const currentContactState = getState().profile.profile?.contacts?.find(contact => contact.id === data.id)\r\n\r\n    const formData = createFormData(data)\r\n    if (typeof data.avatar === 'object') {\r\n        data.avatar = '/' + data.avatar.name\r\n    }\r\n    dispatch(actions.editUserData(data as IContact))\r\n\r\n    let response = await fetch(`/api/user/contact/edit`, {method: \"POST\", body: formData})\r\n    if (response.status === 200) return true\r\n\r\n    dispatch(actions.editUserData(currentContactState as IContact))\r\n\r\n    try {\r\n        const jsonResp = await response.json()\r\n        if (jsonResp.hasOwnProperty('message')) {\r\n            await dispatch(ShowErrorTC(jsonResp))\r\n        }\r\n    } catch (err) {\r\n        await dispatch(ShowErrorTC({message: 'Some error: Something wrong, user`s info can`t be changed.'}))\r\n    }\r\n}\r\n\r\nexport const newContactTC = (data: IContact<string | File>): ThunkType<Promise<boolean | undefined>> => async (dispatch, getState) => {\r\n    const userId = getState().profile.profile?.id\r\n\r\n    const formData = createFormData(data)\r\n    if (typeof data.avatar === 'object') {\r\n        data.avatar = '/' + data.avatar.name\r\n    }\r\n\r\n    const response = await fetch(`/api/user/${userId}/contact/new`, {method: \"POST\", body: formData})\r\n    if (response.status === 200) {\r\n        const responseJson = await response.json()\r\n        data.id = responseJson.id\r\n        dispatch(actions.addContact(data as IContact))\r\n        return true\r\n    }\r\n\r\n    try {\r\n        const jsonResp = await response.json()\r\n        if (jsonResp.hasOwnProperty('message')) {\r\n            await dispatch(ShowErrorTC(jsonResp))\r\n        }\r\n    } catch (err) {\r\n        await dispatch(ShowErrorTC({message: 'Some error: Something wrong, user`s info can`t be added.'}))\r\n    }\r\n}\r\n\r\ntype StateType = typeof initialState\r\nexport type ActionTypes = InferActionsTypes<typeof actions>\r\ntype ThunkType<P = Promise<void>> = BaseThunkType<ActionTypes | appActionsTypes, P>\r\nexport default profileReducer","export default __webpack_public_path__ + \"static/media/logo.87cf462c.png\";","import React, {useCallback} from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\nimport logo from '../../assets/image/logo.png'\r\nimport {connect} from \"react-redux\"\r\nimport {StoreType} from \"../../store\"\r\nimport {LogOutTC} from \"../../store/profile-reducer\"\r\n\r\nconst Header: React.FC<StateType> = ({isAuth, LogOutTC}) => {\r\n\r\n    const logOut = useCallback(() => {\r\n        LogOutTC()\r\n    }, [LogOutTC])\r\n\r\n    return <nav className=\"navbar navbar-dark bg-primary sticky-top\">\r\n        <NavLink to='/' className=\"navbar-brand mr-auto\">\r\n            <img src={logo} width=\"35\" height=\"35\" className=\"d-inline-block align-top mr-3\" alt=\"\" loading=\"lazy\"/>\r\n            Contacts APP\r\n        </NavLink>\r\n        {isAuth\r\n            ? <div>\r\n                <NavLink to='/contacts' className=\"btn btn-success my-2 my-sm-0 mr-3\">Contacts</NavLink>\r\n                <NavLink to='/contacts' onClick={logOut} className=\"btn btn-danger my-2 my-sm-0 mr-3\">Log Out</NavLink>\r\n            </div>\r\n            : <div>\r\n                <NavLink to='/login' className=\"btn btn-success my-2 my-sm-0 mr-3\">Log In</NavLink>\r\n                <NavLink to='/signUp' className=\"btn btn-info my-2 my-sm-0\">Sign Up</NavLink>\r\n            </div>\r\n        }\r\n    </nav>\r\n}\r\nconst mapState = (state: StoreType) => ({\r\n    isAuth: state.app.isAuth\r\n})\r\nconst dispatchType = {LogOutTC}\r\n\r\ninterface IDispatch {\r\n    LogOutTC: () => void\r\n}\r\n\r\ntype StateType = ReturnType<typeof mapState> & IDispatch\r\n\r\nexport default connect(mapState, dispatchType)(Header)","import {Action, applyMiddleware, combineReducers, createStore} from \"redux\"\r\nimport thunkMiddleware, {ThunkAction} from 'redux-thunk'\r\nimport appReducer from \"./app-reducer\"\r\nimport profileReducer from \"./profile-reducer\"\r\n\r\nlet reducersBranch = combineReducers({\r\n    app: appReducer,\r\n    profile: profileReducer,\r\n})\r\n\r\nconst store = createStore(reducersBranch, applyMiddleware(thunkMiddleware))\r\n\r\nexport type StoreType = ReturnType<typeof store.getState>\r\n\r\nexport type InferActionsTypes<T> = T extends { [key: string]: (...args: any[]) => infer U } ? U : never\r\nexport type BaseThunkType<AT extends Action, P = Promise<void>> = ThunkAction<P, StoreType, unknown, AT>\r\n\r\nexport default store\r\n","import React from \"react\"\r\n\r\ninterface IState {\r\n    size: number\r\n    margin?: string\r\n}\r\n\r\nconst StarIcon: React.FC<IState> = ({size, margin}) => {\r\n    return <svg width={size} height={size} fill=\"currentColor\"\r\n                className={\"bi bi-star-fill \" + margin} viewBox=\"0 0 16 16\">\r\n        <path d=\"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\"/>\r\n    </svg>\r\n}\r\n\r\nexport default StarIcon;","import React from \"react\"\r\n\r\nconst UsersIcon: React.FC = () => {\r\n    return <svg  width=\"25\" height=\"25\" fill=\"currentColor\"\r\n                 className=\"bi bi-person-lines-fill mr-4\" viewBox=\"0 0 16 16\">\r\n        <path d=\"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z\"/>\r\n    </svg>\r\n}\r\n\r\nexport default UsersIcon;","import React from \"react\"\r\nimport StarIcon from \"../common/StarIcon\"\r\nimport UsersIcon from \"../common/UsersIcon\"\r\n\r\nexport const Favorite: React.FC = () => {\r\n    return <li className=\"media list-group-item list-group-item-warning\">\r\n        <StarIcon size={24} margin='mr-3'/>Favorite contacts\r\n    </li>\r\n}\r\n\r\nexport const AllContacts: React.FC = () => {\r\n    return <li className=\"list-group-item list-group-item-primary\">\r\n        <UsersIcon/>All contacts\r\n    </li>\r\n}","export default __webpack_public_path__ + \"static/media/anonim.5827c6ca.png\";","import React from \"react\";\r\n\r\nconst EditingIcon: React.FC = () => {\r\n    return <svg width=\"16\" height=\"16\" fill=\"currentColor\"\r\n                className=\"bi bi-pencil-square  mr-2\" viewBox=\"0 0 16 16\">\r\n        <path\r\n            d=\"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\"/>\r\n        <path fillRule=\"evenodd\"\r\n              d=\"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\"/>\r\n    </svg>\r\n}\r\n\r\nexport default EditingIcon;","import React from \"react\";\r\n\r\nconst PhoneIcon: React.FC = () => {\r\n    return <svg width=\"16\" height=\"16\" fill=\"currentColor\"\r\n                className=\"bi bi-telephone-fill mr-2\" viewBox=\"0 0 16 16\">\r\n        <path fillRule=\"evenodd\" d=\"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z\"/>\r\n    </svg>\r\n}\r\n\r\nexport default PhoneIcon;","import React, {useCallback} from 'react'\r\nimport {NavLink} from \"react-router-dom\"\r\nimport anonim from \"../../assets/image/anonim.png\"\r\nimport EditingIcon from '../common/EditingIcon'\r\nimport PhoneIcon from '../common/PhoneIcon'\r\nimport StarIcon from \"../common/StarIcon\"\r\nimport {IContact} from \"../../types/types\"\r\n\r\ninterface IState {\r\n    contact: IContact\r\n    toggleFavoriteUser: (id: number) => void\r\n}\r\n\r\nconst Contact: React.FC<IState> = ({contact, toggleFavoriteUser}) => {\r\n\r\n    const changeFavoriteStatus = useCallback(() => {\r\n        toggleFavoriteUser(contact.id)\r\n    }, [toggleFavoriteUser, contact.id])\r\n\r\n    return <li className=\"media list-group-item list-group-item-action d-flex align-items-center\">\r\n        <NavLink to={'/show/' + contact.id} className=\"d-flex mr-auto\">\r\n            <div className='overflow-hidden mr-4 size_show'>\r\n                <img src={contact.avatar || anonim} className=\"rounded float-left mr-3\" alt=\"\"/>\r\n            </div>\r\n        </NavLink>\r\n        <div className=\"media-body mr-auto\">\r\n            <NavLink to={'/show/' + contact.id} className=\"d-flex mr-auto\">\r\n                <h5 className=\"mt-0 mb-1\">{contact.name}</h5>\r\n            </NavLink>\r\n            {contact.phones.map(phone =>\r\n                <a key={phone.id} className=\"d-block\" href={\"tel:\" + phone.number}>{phone.number}</a>\r\n            )}\r\n        </div>\r\n        <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n            <a href={\"tel:\" + contact.phones[0].number} className='btn btn-success'>\r\n                <PhoneIcon/> Call\r\n            </a>\r\n            <button className='btn btn-warning' onClick={changeFavoriteStatus}>\r\n                <StarIcon size={18}/>\r\n            </button>\r\n            <NavLink to={'/edit/' + contact.id} type='button' className='btn btn-danger'>\r\n                <EditingIcon/>Edit\r\n            </NavLink>\r\n        </div>\r\n    </li>\r\n}\r\n\r\nexport default Contact","import React, {useCallback} from \"react\"\r\nimport {Favorite} from \"./ContactsType\"\r\nimport {IContact} from \"../../types/types\"\r\nimport Contact from \"./Contact\"\r\n\r\ninterface IState {\r\n    favorites: Array<IContact>\r\n    toggleFavoriteUser: (id: number, event: boolean) => void\r\n}\r\n\r\nconst FavoriteContacts: React.FC<IState> = ({favorites, toggleFavoriteUser}) => {\r\n\r\n    const deleteFromFavorite = useCallback((id: number) => {\r\n        toggleFavoriteUser(id, false)\r\n    }, [toggleFavoriteUser])\r\n\r\n    return <>\r\n        {favorites.length > 0 && <Favorite/>}\r\n        {favorites.map(contact => <Contact key={contact.id} contact={contact}\r\n                                           toggleFavoriteUser={deleteFromFavorite}/>)}\r\n    </>\r\n}\r\n\r\nexport default FavoriteContacts","import React, {useCallback} from \"react\"\r\nimport {IContact} from \"../../types/types\"\r\nimport Contact from \"./Contact\"\r\nimport {AllContacts} from \"./ContactsType\"\r\n\r\ninterface IState {\r\n    contacts: Array<IContact>\r\n    toggleFavoriteUser: (id: number, event: boolean) => void\r\n}\r\n\r\nconst ContactsList: React.FC<IState> = ({contacts, toggleFavoriteUser}) => {\r\n\r\n    const deleteFromFavorite = useCallback((id: number) => {\r\n        toggleFavoriteUser(id, true)\r\n    }, [toggleFavoriteUser])\r\n\r\n    return <>\r\n        {contacts.length > 0 && <AllContacts/>}\r\n        {contacts.map(contact => <Contact key={contact.id} contact={contact}\r\n                                          toggleFavoriteUser={deleteFromFavorite}/>)}\r\n    </>\r\n}\r\n\r\nexport default ContactsList","import React, {ComponentType} from 'react'\r\nimport {connect} from \"react-redux\"\r\nimport {Redirect} from 'react-router-dom'\r\nimport {StoreType} from \"../../store\"\r\n\r\nconst mapState = (state: StoreType) => ({\r\n    isAuth: state.app.isAuth\r\n})\r\n\r\ntype IState = ReturnType<typeof mapState>\r\n\r\nexport const withAuthRedirect = (Component: ComponentType) => {\r\n\r\n    const authRedirect: React.FC<IState> = (props) => {\r\n        const {isAuth, ...rest} = props\r\n\r\n        if (!props.isAuth) {\r\n            return <Redirect to='/login'/>\r\n        }\r\n        return <Component {...rest}/>\r\n    }\r\n\r\n    return connect(mapState)(authRedirect)\r\n}","import React, {ComponentType, useCallback} from 'react'\r\nimport {StoreType} from \"../../store\"\r\nimport {connect} from \"react-redux\"\r\nimport FavoriteContacts from \"./FavoriteContacts\"\r\nimport ContactsList from './ContactsList'\r\nimport {NavLink} from \"react-router-dom\"\r\nimport AppError from \"../common/AppError\"\r\nimport {IUser} from \"../../types/types\"\r\nimport {compose} from \"redux\"\r\nimport {withAuthRedirect} from \"../HOC/withAuthRedirect\"\r\nimport {changeFavoriteUserTC} from \"../../store/profile-reducer\"\r\n\r\nconst Contacts: React.FC<StateType> = ({profile, error, changeFavoriteUserTC}) => {\r\n\r\n    const toggleFavoriteUser = useCallback((id: number, event: boolean) => {\r\n        changeFavoriteUserTC(id, event)\r\n    }, [changeFavoriteUserTC])\r\n\r\n    const favoriteFilter = profile.contacts?.filter(contact => contact.isFavorite)\r\n    const otherContacts = profile.contacts?.filter(contact => !contact.isFavorite)\r\n\r\n    return <>\r\n        <div className='mt-3 d-flex align-items-center justify-content-between'>\r\n            <h2>{profile.name}'s contacts:</h2>\r\n            <NavLink to='/newContact' className='btn btn-success'>Add contact</NavLink>\r\n        </div>\r\n        {error && <AppError message={error.message}/>}\r\n        <div className='my-3'>\r\n            <ul className=\"list-unstyled list-group col-12 pr-0\">\r\n                {favoriteFilter &&\r\n                <FavoriteContacts favorites={favoriteFilter} toggleFavoriteUser={toggleFavoriteUser}/>}\r\n                {otherContacts && <ContactsList contacts={otherContacts} toggleFavoriteUser={toggleFavoriteUser}/>}\r\n            </ul>\r\n        </div>\r\n    </>\r\n}\r\n\r\nconst mapState = (state: StoreType) => ({\r\n    profile: state.profile.profile as IUser,\r\n    error: state.app.error\r\n})\r\n\r\nconst dispatchProps = {\r\n    changeFavoriteUserTC\r\n}\r\ntype IDispatch = {\r\n    changeFavoriteUserTC: (contactId: number, event: boolean) => void\r\n}\r\n\r\ntype StateType = ReturnType<typeof mapState> & IDispatch\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapState, dispatchProps),\r\n    withAuthRedirect\r\n)(Contacts)\r\n","import React from 'react'\r\n\r\nconst NotFound: React.FC = () => {\r\n    return <div className='text-primary display-1 text-center mt-5 pt-5'>\r\n        <div className='font-weight-bold mt-5'>404</div>\r\n        NotFound\r\n    </div>\r\n}\r\n\r\nexport default NotFound","export default __webpack_public_path__ + \"static/media/life.16c3f13d.png\";","export default __webpack_public_path__ + \"static/media/kiev.b8ad4e57.png\";","export default __webpack_public_path__ + \"static/media/vodafone.fdca0659.jpg\";","import React, {useCallback} from \"react\"\r\nimport {FieldProps, getIn} from \"formik\"\r\nimport cn from \"classnames\"\r\nimport {defineOperator} from \"../defineOperator\"\r\n\r\ntype IState = FieldProps & {\r\n    push: () => void\r\n    remove: () => void\r\n    length: number\r\n    phone: string\r\n    i: number\r\n}\r\n\r\nexport const PhoneField: React.FC<IState> = ({field, form, push, remove, length, phone, i}) => {\r\n\r\n    const {errors, values, touched} = form\r\n    const name = field.name\r\n    const errorMessage = getIn(errors, name)\r\n    const operator = defineOperator(phone)\r\n\r\n    const removeCurrentPhone = useCallback(() => remove(), [remove])\r\n    const addPhone = useCallback(() => push(), [push])\r\n\r\n    const isValid = values.phones[i].number && !errorMessage\r\n    const isInvalid = (values.phones[i].number || touched.phones) && errorMessage\r\n\r\n    return <div className=\"form-row\">\r\n        <div className=\"col-md-12 mb-3\">\r\n            <div className=\"input-group\">\r\n                <img src={operator} width=\"39\" height=\"39\" className=\"rounded float-left mr-3\" alt=\"\"/>\r\n                <input {...field} placeholder='+380930000000'\r\n                       className={cn(\"form-control\", {'is-valid': isValid}, {'is-invalid': isInvalid})}\r\n                />\r\n                <div className=\"input-group-append\">\r\n                    {length > 1 &&\r\n                    <button className=\"btn btn-danger\" onClick={removeCurrentPhone} type=\"button\">Delete</button>}\r\n                    <button className=\"btn btn-success\" onClick={addPhone} type=\"button\">Add phone</button>\r\n                </div>\r\n                <div className={cn({'valid-feedback': isValid}, {'invalid-feedback': isInvalid})}>\r\n                    {isInvalid || (values.phones[i].number && 'Looks good!')}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default PhoneField","import anonim from \"../../assets/image/anonim.png\"\r\nimport life from \"../../assets/image/life.png\"\r\nimport kiev from \"../../assets/image/kiev.png\"\r\nimport vodafone from \"../../assets/image/vodafone.jpg\"\r\n\r\nexport function defineOperator(number: string) {\r\n    let operator = anonim\r\n    if (number.match(/(063|073|093)/)) {\r\n        operator = life\r\n    } else if (number.match(/(067|068|096|097|098)/)) {\r\n        operator = kiev\r\n    } else if (number.match(/(050|066|095|099)/)) {\r\n        operator = vodafone\r\n    }\r\n    return operator\r\n}\r\n","import React, {ChangeEvent, useCallback, useState} from 'react'\r\nimport anonim from '../../assets/image/anonim.png'\r\nimport {NavLink} from 'react-router-dom'\r\nimport {Field, FieldArray, Form, Formik} from \"formik\"\r\nimport {IContact, IError, IPhone} from \"../../types/types\"\r\nimport * as yup from 'yup'\r\nimport FormField from '../common/FormFields/FormField'\r\nimport {PhoneField} from \"../common/FormFields/PhoneField\"\r\nimport AppError from \"../common/AppError\"\r\n\r\ninterface IEditForm {\r\n    deleteContact?: (id: number) => void\r\n    contact: IContact\r\n    editContact?: (data: IContact) => void\r\n    newContactTC?: (data: IContact) => void\r\n    error: IError | null\r\n}\r\n\r\nconst Edit: React.FC<IEditForm> = ({contact, deleteContact, editContact, newContactTC, error}) => {\r\n\r\n    const deleteCurrentContact = useCallback(() => {\r\n        if (deleteContact) {\r\n            deleteContact(contact.id)\r\n        }\r\n    }, [deleteContact, contact.id])\r\n\r\n    const validationSchema = yup.object({\r\n        name: yup.string()\r\n            .matches(/^[a-zа-щієїґюьяыёъ\\s]+$/i, 'Field should contain only letters')\r\n            .min(3)\r\n            .max(100, 'Too Long!')\r\n            .required('Name field is required'),\r\n        email: yup.string().max(100, 'Too Long!').email('Incorrect email'),\r\n        phones: yup.array().of(\r\n            yup.object().shape({\r\n                id: yup.number(),\r\n                number: yup.string()\r\n                    .trim()\r\n                    .matches(/^(\\+38)?0(93|63|67|68|96|97|98|50|66|95|99)\\d{7}$/,\r\n                        'Incorrect phone number. Operator does not exist. Use life, kievstar or vodafone')\r\n                    .required('Field is required')\r\n            })\r\n        )\r\n    })\r\n\r\n    const onSubmit = useCallback((values: IContact) => {\r\n        if (editContact) {\r\n            editContact(values)\r\n        } else if (newContactTC) {\r\n            newContactTC(values)\r\n        }\r\n    }, [editContact, newContactTC])\r\n\r\n    const [loadedImg, setImg] = useState<null | string>(null)\r\n\r\n    return <div className='my-4'>\r\n        {error && <AppError message={error.message}/>}\r\n        <Formik initialValues={contact}\r\n                validationSchema={validationSchema}\r\n                onSubmit={onSubmit}\r\n                className='my-4'>\r\n            {(formProps) => {\r\n\r\n                if (typeof formProps.values.avatar !== \"string\") {\r\n                    const reader = new FileReader()\r\n                    reader.onload = (event) => {\r\n                        event.target && setImg(event.target.result as string)\r\n                    }\r\n                    reader.readAsDataURL(formProps.values.avatar)\r\n                }\r\n\r\n                const setImgField = (event: ChangeEvent<HTMLInputElement>) => {\r\n                    formProps.setFieldValue(\"avatar\", event.target.files && event.target.files[0])\r\n                }\r\n\r\n                return (\r\n                    <Form>\r\n                        <div className=\"form-group d-flex\">\r\n                            <div className='overflow-hidden mr-4 size_edit'>\r\n                                <img src={loadedImg || contact.avatar || anonim}\r\n                                     className=\"rounded float-left mr-3\" alt=\"\"/>\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor=\"image\">Choose photo</label>\r\n                                <input type=\"file\" name='avatar' id=\"image\"\r\n                                       accept=\".jpg, .jpeg\" className=\"form-control-file\"\r\n                                       onChange={setImgField}/>\r\n                            </div>\r\n                        </div>\r\n                        <FormField name='name' placeholder='Name'/>\r\n\r\n                        <div className=\"mb-4\">\r\n                            <p className=\"mr-2 d-inline\">Phones</p>\r\n                        </div>\r\n                        <FieldArray name='phones'>\r\n                            {({push, remove, form}) => {\r\n                                const {values: {phones}} = form\r\n                                const length = phones.length\r\n                                const lastId = phones[length - 1].id\r\n\r\n                                return phones.map((phone: IPhone, i: number) => {\r\n                                        const name = `phones[${i}].number`\r\n\r\n                                        return <Field key={phone.id} component={PhoneField} name={name}\r\n                                                      length={length} lastId={lastId}\r\n                                                      phone={phone.number} i={i}\r\n                                                      push={() => push({id: lastId + 1, number: ''})}\r\n                                                      remove={() => remove(i)}/>\r\n                                    }\r\n                                )\r\n                            }}\r\n                        </FieldArray>\r\n\r\n                        <FormField name='email' type='email' placeholder='name@example.com'/>\r\n                        <FormField name='address' placeholder='Address'/>\r\n                        <FormField name='comment' placeholder='Comment'/>\r\n\r\n                        <div className=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n                            <NavLink to='/contacts' className=\"btn btn-info\">Cancel</NavLink>\r\n                            <button type=\"submit\" className=\"btn btn-success\">Save</button>\r\n                            {deleteContact && <NavLink to='/contacts' className=\"btn btn-danger\"\r\n                                                       onClick={deleteCurrentContact}>Delete</NavLink>}\r\n                        </div>\r\n                    </Form>\r\n                )\r\n            }}\r\n        </Formik>\r\n    </div>\r\n}\r\n\r\nexport default Edit\r\n\r\n\r\n\r\n\r\n","import React, {ComponentType, useCallback} from 'react'\r\nimport {compose} from \"redux\"\r\nimport {withAuthRedirect} from \"../HOC/withAuthRedirect\"\r\nimport Edit from \"../Edit/Edit\"\r\nimport {IContact} from \"../../types/types\"\r\nimport {StoreType} from \"../../store\"\r\nimport {newContactTC} from \"../../store/profile-reducer\"\r\nimport {connect} from \"react-redux\"\r\nimport {useHistory} from \"react-router-dom\"\r\n\r\nconst NewContact: React.FC<StateType> = ({error, newContactTC}) => {\r\n\r\n    const newContact: IContact = {\r\n        id: 1,\r\n        name: '',\r\n        avatar: '',\r\n        email: '',\r\n        address: '',\r\n        comment: '',\r\n        isFavorite: false,\r\n        phones: [{id: 1, number: ''}]\r\n    }\r\n\r\n    const history = useHistory()\r\n    const editContact = useCallback((data: IContact) => {\r\n        const result = newContactTC(data)\r\n\r\n        result.then(result => {\r\n            if (result) {\r\n                history.push('/contacts')\r\n            }\r\n        })\r\n    }, [newContactTC, history])\r\n\r\n    return <Edit contact={newContact} editContact={editContact} error={error}/>\r\n}\r\n\r\nconst mapState = (state: StoreType) => ({\r\n    error: state.app.error\r\n})\r\n\r\nconst mapDispatch = {\r\n    newContactTC\r\n}\r\n\r\ninterface IDispatch {\r\n    newContactTC: (data: IContact) => Promise<boolean>\r\n}\r\n\r\ntype StateType = ReturnType<typeof mapState> & IDispatch\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapState, mapDispatch),\r\n    withAuthRedirect,\r\n)(NewContact)","import React from 'react'\r\nimport {IContact} from \"../../types/types\"\r\nimport anonim from '../../assets/image/anonim.png'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\ninterface IState {\r\n    user: IContact\r\n}\r\n\r\nconst Show: React.FC<IState> = ({user}) => {\r\n    return <div className=\"card border-primary mb-3 mt-4\">\r\n        <div className=\"card-header\">\r\n            <p className=\"h4\">{user.name}</p>\r\n        </div>\r\n        <div className=\"card-body text-primary\">\r\n            <div className=\"form-group d-flex\">\r\n                <div className={'overflow-hidden size_show_page float-left mr-3'}>\r\n                    <img src={user.avatar || anonim} alt=\"\"/>\r\n                </div>\r\n\r\n                <div>\r\n                    <Field fieldName={'Email'} value={user.email}/>\r\n                    <Field fieldName={'Address'} value={user.address}/>\r\n                    <Field fieldName={'Comment'} value={user.comment}/>\r\n                    <div>\r\n                        <p className=\"card-title font-weight-bold\">Phones: </p>\r\n                        {user.phones.map(phone =>\r\n                            <a key={phone.id} href={'tel:' + phone.number} className=\"d-block\">{phone.number}</a>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <NavLink to='/contacts' className='btn btn-primary float-right px-5'>Back</NavLink>\r\n        </div>\r\n    </div>\r\n}\r\n\r\ninterface IFieldState {\r\n    fieldName: string\r\n    value: string | null\r\n}\r\n\r\nconst Field: React.FC<IFieldState> = ({fieldName, value}) => {\r\n    return <p className=\"card-title font-weight-bold\">{fieldName}:\r\n        <span className='font-weight-normal'> {value || 'Doesn`t set'}</span>\r\n    </p>\r\n}\r\n\r\nexport default Show","import React, {ComponentType} from 'react'\r\nimport {Redirect, useParams} from 'react-router-dom'\r\nimport Show from './Show'\r\nimport {connect} from \"react-redux\"\r\nimport {StoreType} from \"../../store\"\r\nimport {ShowErrorTC} from \"../../store/app-reducer\"\r\nimport {IContact, IError} from \"../../types/types\"\r\nimport {compose} from \"redux\"\r\nimport {withAuthRedirect} from \"../HOC/withAuthRedirect\"\r\n\r\nconst ShowContainer: React.FC<StateType> = ({contacts, ShowErrorTC}) => {\r\n\r\n    const uri = useParams<{ [key: string]: string }>()\r\n    const user = contacts.find(contact => contact.id === +uri.id)\r\n\r\n    if (!user) {\r\n        ShowErrorTC({message: 'User wasn`t found'})\r\n        return <Redirect to='/contacts'/>\r\n    }\r\n    return <Show user={user}/>\r\n}\r\n\r\nconst mapState = (state: StoreType) => ({\r\n    contacts: state.profile.profile?.contacts as Array<IContact>\r\n})\r\n\r\nconst dispatchState = {\r\n    ShowErrorTC\r\n}\r\ntype IDispatch = {\r\n    ShowErrorTC: (err: IError, time?: number) => void\r\n}\r\n\r\ntype StateType = ReturnType<typeof mapState> & IDispatch\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapState, dispatchState),\r\n    withAuthRedirect\r\n)(ShowContainer)","import React from 'react';\r\nimport style from './Preloader.module.css';\r\n\r\nconst Preloader: React.FC = () => {\r\n    return <div className={'d-flex justify-content-center align-items-center ' + style.min_height}>\r\n        <div className={\"spinner-border text-primary \" + style.size} role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Preloader","import React, {ComponentType, useCallback} from \"react\"\r\nimport {Redirect, useHistory, useParams} from \"react-router-dom\"\r\nimport {ShowErrorTC} from \"../../store/app-reducer\"\r\nimport {StoreType} from \"../../store\"\r\nimport {deleteContactTC, editContactDataTC} from \"../../store/profile-reducer\"\r\nimport {compose} from \"redux\"\r\nimport {connect} from \"react-redux\"\r\nimport {withAuthRedirect} from \"../HOC/withAuthRedirect\"\r\nimport Edit from \"./Edit\"\r\nimport {IContact, IError} from \"../../types/types\"\r\n\r\nconst EditContainer: React.FC<StateType> = ({contacts, deleteContactTC, editContactDataTC, ShowErrorTC, error}) => {\r\n\r\n    const deleteContact = useCallback((id: number) => {\r\n        deleteContactTC(id)\r\n    }, [deleteContactTC])\r\n\r\n    const history = useHistory()\r\n    const editContact = useCallback((data: IContact) => {\r\n        const result = editContactDataTC(data)\r\n\r\n        result.then(result => {\r\n            if (result) {\r\n                history.push('/contacts')\r\n            }\r\n        })\r\n    }, [editContactDataTC, history])\r\n\r\n    const param = useParams<{ [key: string]: string }>()\r\n    const contact = contacts?.find(contact => contact.id === +param.id)\r\n\r\n    if (!contact) {\r\n        ShowErrorTC({message: 'User wasn`t found'})\r\n        return <Redirect to='/contacts'/>\r\n    }\r\n    return <Edit contact={contact} deleteContact={deleteContact} editContact={editContact} error={error}/>\r\n}\r\n\r\nconst mapState = (state: StoreType) => ({\r\n    contacts: state.profile.profile?.contacts,\r\n    error: state.app.error\r\n})\r\n\r\nconst mapDispatch = {\r\n    deleteContactTC,\r\n    editContactDataTC,\r\n    ShowErrorTC\r\n}\r\n\r\ninterface IDispatch {\r\n    deleteContactTC: (id: number) => void\r\n    editContactDataTC: (data: IContact) => Promise<boolean>\r\n    ShowErrorTC: (err: IError, time?: number) => void\r\n}\r\n\r\ntype StateType = ReturnType<typeof mapState> & IDispatch\r\n\r\nexport default compose<ComponentType>(\r\n    connect(mapState, mapDispatch),\r\n    withAuthRedirect\r\n)(EditContainer)","import React, {ComponentType, Suspense} from 'react'\r\nimport Preloader from \"../common/Preloader/Preloader\"\r\n\r\nexport const withSuspense = (Component: ComponentType) => {\r\n\r\n    const lazyComponent: React.FC = (props) => {\r\n        return <Suspense fallback={<Preloader/>}>\r\n            <Component {...props} />\r\n        </Suspense>\r\n    }\r\n    return lazyComponent\r\n}","import React from 'react'\r\n\r\nconst Footer: React.FC = () => {\r\n    return <div className=\"card-footer d-flex justify-content-around\">\r\n        <small className=\"text-muted\">GeekHub 2020 - 2021</small>\r\n        <small className=\"text-muted\">Designed by Yuliia Kavytska</small>\r\n    </div>\r\n}\r\n\r\nexport default Footer","import React, {useEffect} from 'react'\nimport './App.css'\nimport {BrowserRouter, Route, Switch} from \"react-router-dom\"\nimport Header from './components/Header/Header'\nimport {connect, Provider} from \"react-redux\"\nimport store, {StoreType} from './store'\nimport Contacts from './components/Contacts/Contacts'\nimport NotFound from './components/404/NotFound'\nimport NewContact from './components/NewContact/NewContact'\nimport ShowContainer from \"./components/Show/ShowContainer\"\nimport {initializeAppTC} from \"./store/app-reducer\"\nimport Preloader from \"./components/common/Preloader/Preloader\"\nimport EditContainer from './components/Edit/EditContainer'\nimport {withSuspense} from './components/HOC/withSuspence'\nimport Footer from \"./components/Footer/Footer\"\n\nconst Login = React.lazy(() => import(\"./components/Login/Login\"))\nconst SuspendedLogin = withSuspense(Login)\n\nconst SignUp = React.lazy(() => import(\"./components/SignUp/SignUp\"))\nconst SuspendedSignUp = withSuspense(SignUp)\n\nconst App: React.FC<StateType> = ({initialized, initializeAppTC}) => {\n\n    function catchError(e: PromiseRejectionEvent) {\n        alert(`Unhandled error! Reason: ${e.reason}`)\n    }\n\n    useEffect(() => {\n        window.addEventListener('unhandledrejection', catchError)\n\n        return () => {\n            window.removeEventListener('unhandledrejection', catchError)\n        }\n    }, [])\n\n    useEffect(() => {\n        initializeAppTC()\n    }, [initializeAppTC])\n\n    return <div className='d-flex flex-column app_height'>\n        <Header/>\n        <main className='container mb-3 flex-grow-1'>\n            {!initialized ? <Preloader/> : <Switch>\n                <Route path='/' exact component={Contacts}/>\n                <Route path='/login' exact component={SuspendedLogin}/>\n                <Route path='/signup' exact component={SuspendedSignUp}/>\n                <Route path='/contacts' exact component={Contacts}/>\n                <Route path='/newContact' exact component={NewContact}/>\n                <Route path='/show/:id?' exact component={ShowContainer}/>\n                <Route path='/edit/:id?' exact component={EditContainer}/>\n                <Route path='/*' render={() => <NotFound/>}/>\n            </Switch>\n            }\n        </main>\n        <Footer/>\n    </div>\n}\n\nconst AppContainer: React.FC = () => {\n    return <Provider store={store}>\n        <BrowserRouter>\n            <AppConnected/>\n        </BrowserRouter>\n    </Provider>\n}\n\nconst mapState = (state: StoreType) => ({\n    initialized: state.app.initialized\n})\n\nconst dispatchState = {\n    initializeAppTC\n}\ninterface IDispatch {\n    initializeAppTC: () => void\n}\n\ntype StateType = ReturnType<typeof mapState> & IDispatch\nconst AppConnected = connect(mapState, dispatchState)(App)\n\nexport default AppContainer","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import {IContact, methodsTypes} from \"../types/types\"\r\n\r\nexport const createFormData = (data: IContact<string | File>) => {\r\n    let formData = new FormData();\r\n    for (let key in data) {\r\n        if (data.hasOwnProperty(key) && typeof data[key] !== 'string' && key !== 'avatar') {\r\n            formData.append(key, JSON.stringify(data[key]))\r\n        } else {\r\n            formData.append(key, data[key])\r\n        }\r\n    }\r\n    return formData\r\n}\r\n\r\nexport const ajax = (url: string, method: methodsTypes, body = {}): Promise<any> => {\r\n    let settings: ISettings = {\r\n        method,\r\n        headers: {\r\n            \"X-Requested-With\": \"XMLHttpRequest\",\r\n            \"Content-Type\": \"application/json\"\r\n        }\r\n    }\r\n    if (Object.keys(body).length > 0) {\r\n        settings[\"body\"] = JSON.stringify(body)\r\n    }\r\n    return fetch(url, settings)\r\n}\r\n\r\ninterface ISettings {\r\n    [key: string]: string | object\r\n\r\n    headers: { [key: string]: string }\r\n    method: methodsTypes\r\n}","import React from \"react\"\r\nimport {Field, FieldProps} from \"formik\"\r\nimport cn from \"classnames\"\r\n\r\ninterface IState {\r\n    name: string\r\n    type?: string\r\n    placeholder: string\r\n}\r\n\r\nconst FormField: React.FC<IState> = ({name, type = 'text', placeholder}) => {\r\n\r\n    const nameField = name.charAt(0).toUpperCase() + name.slice(1)\r\n\r\n    return <div className=\"form-row\">\r\n        <div className=\"col-md-12 mb-3\">\r\n            <label htmlFor={name}>{nameField}</label>\r\n            <Field name={name}>\r\n                {({form, field, meta}: FieldProps) => {\r\n                    const isInvalid = (form.values[name] || form.touched[name]) && meta.error\r\n                    const isValid = form.values[name] && !meta.error\r\n                    return <>\r\n                        <input {...field} type={type} id={name} placeholder={placeholder}\r\n                               className={cn(\"form-control\",\r\n                                   {'is-valid': isValid},\r\n                                   {'is-invalid': isInvalid})}\r\n                        />\r\n                        <div className={cn({'valid-feedback': isValid}, {'invalid-feedback': isInvalid})}>\r\n                            {isInvalid || (form.values[name] && 'Looks good!')}\r\n                        </div>\r\n                    </>\r\n                }}\r\n            </Field>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default FormField","import React from 'react';\r\n\r\ninterface iState {\r\n    message: string\r\n}\r\n\r\nconst AppError: React.FC<iState> = ({message}) => {\r\n    return <div className=\"alert alert-danger mt-3\" role=\"alert\">\r\n        {message}\r\n    </div>\r\n}\r\n\r\nexport default AppError","// extracted by mini-css-extract-plugin\nmodule.exports = {\"min_height\":\"Preloader_min_height__2nKwb\",\"size\":\"Preloader_size__2aKvs\"};","import {BaseThunkType, InferActionsTypes} from \".\"\r\nimport {IError, ILogin, IRegisterData} from \"../types/types\"\r\nimport {getUserTC} from \"./profile-reducer\"\r\nimport {ajax} from \"./commonFunktion\"\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n    error: null as IError | null,\r\n    isAuth: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action: ActionsType): StateType => {\r\n    switch (action.type) {\r\n        case \"CA/APP/SET_INITIALIZED\":\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        case \"CA/APP/SET_ERROR\":\r\n            return {\r\n                ...state,\r\n                error: action.err\r\n            }\r\n        case \"CA/PROFILE/SET_AUTHORIZED\":\r\n            return {\r\n                ...state,\r\n                isAuth: action.event\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    setInitialized: () => ({type: 'CA/APP/SET_INITIALIZED'} as const),\r\n    setError: (err: IError | null) => ({type: 'CA/APP/SET_ERROR', err} as const),\r\n    setAuthorized: (event: boolean) => ({type: 'CA/PROFILE/SET_AUTHORIZED', event} as const)\r\n}\r\n\r\nexport const initializeAppTC = (): ThunkType => async (dispatch, getState) => {\r\n    let storage = await localStorage.getItem('CA/user')\r\n    if (storage) {\r\n        try {\r\n            const userData = JSON.parse(storage)\r\n\r\n            if (userData.hasOwnProperty('email') && userData.hasOwnProperty('password')) {\r\n                const response = await dispatch(getUserTC(userData))\r\n\r\n                if (response) {\r\n                    dispatch(actions.setAuthorized(true))\r\n                }\r\n            } else {\r\n                await dispatch(ShowErrorTC({message: 'Your data is incorrect. Log In with correct login and password'}))\r\n            }\r\n        } catch (err) {\r\n            await dispatch(ShowErrorTC({message: 'Some error: Something wrong, user`s info can`t be got.'}))\r\n        }\r\n    }\r\n    if (!getState().app.initialized) {\r\n        dispatch(actions.setInitialized())\r\n    }\r\n}\r\n\r\nexport const RegisterTC = (data: IRegisterData): ThunkType => async (dispatch) => {\r\n    let response = await ajax('/api/signUp', 'POST', data)\r\n    if (response.status === 200) {\r\n        localStorage.setItem('CA/user', JSON.stringify({email: data.email, password: data.password}))\r\n        await dispatch(initializeAppTC())\r\n    } else {\r\n        try {\r\n            const jsonResp = await response.json()\r\n            if (jsonResp.hasOwnProperty('message')) {\r\n                await dispatch(ShowErrorTC(jsonResp))\r\n            }\r\n        } catch (err) {\r\n            await dispatch(ShowErrorTC({message: 'Some error: Something wrong, user`s info can`t be registered.'}))\r\n        }\r\n    }\r\n}\r\n\r\nexport const LogInTC = (data: ILogin): ThunkType => async (dispatch) => {\r\n    localStorage.setItem('CA/user', JSON.stringify(data))\r\n    await dispatch(initializeAppTC())\r\n}\r\n\r\nexport const ShowErrorTC = (err: IError, time: number = 5000): ThunkType => async (dispatch) => {\r\n    dispatch(actions.setError(err))\r\n    setTimeout(() => dispatch(actions.setError(null)), time)\r\n}\r\n\r\ntype StateType = typeof initialState\r\nexport type ActionsType = InferActionsTypes<typeof actions>\r\ntype ThunkType<T = Promise<void>> = BaseThunkType<ActionsType, T>\r\nexport default appReducer"],"sourceRoot":""}